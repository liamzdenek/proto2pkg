# grpc_aggressive_test_python3_dual

| ‚ö†Ô∏è‚ö†Ô∏è This folder and all of its contents (recursively) are autogenerated! Modifications will be overwritten! ‚ö†Ô∏è‚ö†Ô∏è |
| --- |

1. This package was generated by executing `proto2pkg` on `bank-service`.
1. [`bank-service` can be found here.](https://github.com/liamzdenek/proto2pkg/example/bank-service)
1. At the time this package was generated:
    1. The `bank-service` version was: `0.0.1`
    1. The `bank-service` commit hash was: `64183c061235bbf6e75e33f608b64280844cf33d`
    1. The build occurred at: 2022-01-16T02:49:18.057Z
1. Below, you can find instructions regarding the generator for this package.

## Python3Dual

#### Importing guide

If this package is published in a repository separately from the service that generated it (private or public), [follow
the pip VCS instructions](https://pip.pypa.io/en/stable/topics/vcs-support/).

If this package is published in the same repository that contains the proto2pkg.json (eg, by `git add`ing the `dist`
folder from executing proto2pkg, then follow the same instructions as above, [but you must specify the correct subdirectory
and egg](https://pip.pypa.io/en/stable/topics/vcs-support/#url-fragments), which should point to the directory containing
setup.cfg (this directory).

If you're using a build pipeline that publishes this package to, eg, artifactory or nexus, [follow the repository manager
instructions](https://docs.readthedocs.io/en/stable/guides/private-python-packages.html#from-a-repository-manager-other-than-pypi).

#### Server Implementation

For each defined service, there will be a `[serviceName]Servicer` class which you should extend and override all members of.

The below example uses a service named ExampleService, like this:

```proto
service ExampleService {
    rpc exampleUnaryMethod(ExampleRequest) returns (ExampleResponse) {}
}
```
```python3
import sys
import os
import grpc
from concurrent import futures

# you probably want to handle this import through a real package manager
sys.path.append(os.path.dirname(os.path.realpath(__file__))+"/src")
from grpc_aggressive_test_python3_dual import main_pb2 # protoc (does not include services, just the types)
from grpc_aggressive_test_python3_dual import main_pb2_grpc # grpc (includes the service definitions, depends upon above line)

class ExampleServiceServicer(main_pb2_grpc.ExampleServiceServicer):
    def exampleUnaryMethod(self, request, context):
        # request is of type ExampleRequest
        return main_pb2.ExampleResponse(echoField=request.echoField)
        
def serve():
    server = grpc.server(futures.ThreadPoolExecutor(max_workers=10))
    main_pb2_grpc.add_ExampleServiceServicer_to_server(
        ExampleServiceServicer(), server)
    server.add_insecure_port('[::]:9090')
    server.start()
    server.wait_for_termination()

if __name__ == '__main__':
    serve()
```

#### Client Implementation

For each defined service, there will be a `[serviceName]Stub` class which you should instantiate. This is your client
object. Why is it called stub? ü§∑ ¬Ø\_(„ÉÑ)_/¬Ø It's a client.



```proto
service ExampleService {
    rpc exampleUnaryMethod(ExampleRequest) returns (ExampleResponse) {}
}
```
```python3
import sys
import os
import grpc
from concurrent import futures

# you probably want to handle this import through a real package manager
sys.path.append(os.path.dirname(os.path.realpath(__file__))+"/src")
from grpc_aggressive_test_python3_dual import main_pb2 # protoc (does not include services, just the types)
from grpc_aggressive_test_python3_dual import main_pb2_grpc # grpc (includes the service definitions, depends upon above line)


channel = grpc.insecure_channel('localhost:9090')
stub = main_pb2_grpc.ExampleServiceStub(channel)

# synchronous call
response = stub.exampleUnaryMethod(main_pb2.ExampleRequest(echoField="bobby"))
print("Response")
print(response) # type = ExampleResponse

# or, asynchronous call
future = stub.exampleUnaryMethod.future(main_pb2.ExampleRequest(echoField="bobby2"))

response = future.result()
print("Response")
print(response) # type = ExampleResponse
```

